# agentiso development configuration

[storage]
zfs_pool = "agentiso"
dataset_prefix = "agentiso"
base_image = "alpine-opencode"
base_snapshot = "latest"

[network]
bridge_name = "br-agentiso"
gateway_ip = "10.99.0.1"
subnet_prefix = 16
# Internet access for new workspaces (default: true, needed for API access)
default_allow_internet = true
default_allow_inter_vm = false

[vm]
kernel_path = "/var/lib/agentiso/vmlinuz"
initrd_path = "/var/lib/agentiso/initrd.img"
initrd_fast_path = "/var/lib/agentiso/initrd-fast.img"
init_mode = "fast"
qemu_binary = "qemu-system-x86_64"
run_dir = "/run/agentiso"
kernel_append = "console=ttyS0 root=/dev/vda rw quiet"
vsock_cid_start = 100
guest_agent_port = 5000
boot_timeout_secs = 10

[server]
state_file = "/var/lib/agentiso/state.json"
state_persist_interval_secs = 30

[resources]
default_vcpus = 2
default_memory_mb = 2048
default_disk_gb = 10
max_vcpus = 8
max_memory_mb = 8192
max_disk_gb = 100
max_workspaces = 20

[pool]
enabled = true
max_size = 4
max_memory_mb = 16384

[vault]
enabled = true
path = "/var/lib/agentiso/vault"
extensions = ["md"]
exclude_dirs = [".obsidian", ".trash", ".git"]

[mcp_bridge]
enabled = true
bind_addr = "10.99.0.1"
port = 3100

[dashboard]
enabled = true
bind_addr = "0.0.0.0"
port = 7070
admin_token = ""
# static_dir = "frontend/dist"
